<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pixelverse</title>
    <link rel="stylesheet" href="style.css" />
    <link
      rel="shortcut icon"
      href="./assets/images/favicon.ico"
      type="image/x-icon"
    />
    <style>
      #container {
        width: 30%;
        /* background-color: black; */
        position: relative;
      }
      #container img {
        width: 50%;
        position: absolute;
        bottom: 0;
        height: auto;
        left: 50%;
        transform: translateX(-20%) translateY(-26px);
        z-index: -1;
      }
      body {
        margin: 0;
        overflow: hidden; /* Prevent scrolling during preloader */
      }

      #preloader {
        position: fixed;
        width: 100%;
        height: 100vh; /* Full viewport height */
        overflow: hidden;
        transform: translateY(0); /* Initially hidden */
        transition: transform 0.5s ease-in-out;
        background-color: black;
        z-index: 9999;
        font-family: "Hemi-Head", sans-serif;
      }
      #bg-container {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 1; /* Background images at the lowest layer */
      }

      .bg {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        opacity: 0;
        transition: opacity 0.5s ease-in-out;
      }

      .bg.active {
        opacity: 1;
      }

      /* Dark overlay for background images */
      #preloader::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(
          0,
          0,
          0,
          0.8
        ); /* Adjust the opacity for desired darkness */
        z-index: 2; /* Ensure overlay is above images but below text */
      }

      /* Preloader text styles */
      #preloader-text {
        position: relative;
        z-index: 3; /* Ensure text appears above everything */
        color: white;
        font-size: 3rem;
        text-align: center;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
      }

      #content {
        display: none; /* Hidden initially */
        position: relative;
        z-index: 3; /* Main content above everything else */
      }
    </style>
  </head>
  <body>
    <div id="preloader">
      <div id="bg-container">
        <img
          src="./assets/images/create.jpg"
          id="bg-create"
          class="bg"
          alt="Create"
        />
        <img
          src="./assets/images/code.jpg"
          id="bg-code"
          class="bg"
          alt="Code"
        />
        <img
          src="./assets/images/conquer.jpg"
          id="bg-conquer"
          class="bg"
          alt="Conquer"
        />
      </div>
      <div id="preloader-text"></div>
    </div>
    <!-- <div id="content"> -->
      <div id="vanta-canvas"></div>

      <div class="header">
        <img src="./assets/images/mslogo.png" alt="" />
      </div>
      <section style="min-height: 100vh">
        <div class="main">
          <div id="container">
            <img src="./assets/images/stage.png" alt="" />
          </div>
          <div class="hero">
            <div class="wrapper">
              <h1 class="glitch-text" id="glitch-text">PIXELVERSE</h1>
            </div>
            <div class="sponsor">
              <span>PRESENTED BY</span>
              <img src="./assets/images/KRAFTON.png" alt="" />
            </div>
            <p>
              Welcome to Pixelverse, where imagination plants the seeds of
              gaming innovation. This isn’t just game creation; it’s
              world-building and emotion-inspiring. Dive in and help us reshape
              the future of gaming!
            </p>
            <div class="btn-container">
              <button class="button">REGISTER</button>
              <a href="#objectives"><button class="button">EXPLORE</button></a>
            </div>
          </div>
        </div>
      </section>

      <section id="objectives">
        <div class="objectives card">
          <h1 class="title">OBJECTIVES</h1>
          <p class="section-text">
            The objective of the event is to give budding game developers with
            brilliant skills a platform to showcase those skills in a
            competition of game development. The participants will be given a
            theme on the basis of which they must make a playable video game in
            the given period of time under the moderation of the event
            organizers. The submissions made by the participants will be judged
            and three best submissions will be awarded with monetary prizes.
          </p>
        </div>
      </section>

      <section>
        <div class="card">
          <h1 class="title">STRUCTURE</h1>
          <div class="structure">
            <div class="structure-sub">
              <h1>1. Idea Submission:</h1>
              <p>
                The theme of the event will be disclosed 24 hours prior to the
                start of the event. All competitors will consolidate their ideas
                in those 24 hours and will disclose their idea for the game
                during those 24 hours. The participants are at liberty to
                interpret the theme however they like given their idea of the
                game aligns with the theme of the event.
              </p>
            </div>
            <div class="structure-sub">
              <h1>2. The Competition</h1>
              <p>
                The time period of the competition is 24 hours. Competitors are
                invited at a venue where they will be allowed to implement their
                ideas under the supervision of the organizers. Players can use
                any game engine of their choice to program, design, and
                integrate to shape their game idea. At the end of the 24 hours,
                they must submit their project to the organizers for evaluation.
              </p>
            </div>
            <div class="structure-sub">
              <h1>3. Presentation Round:</h1>
              <p>
                At the end of the 24-hour competition, the participants must
                prepare a presentation on the features and capabilities of their
                game and present it to our judges. The presentation must have
                all the technologies and tools used to make the game, their idea
                behind the game, and how it suits the theme of the competition.
                The submitted games will be judged based on the quality of the
                games and the competitor’s presentation of it. The participants
                will also be asked questions about their games by the judges.
              </p>
            </div>
            <div class="structure-sub">
              <h1>4. TEAM SIZE :</h1>
              <p>Maximum 4 participants per team.</p>
            </div>
            <div class="structure-sub">
              <h1>5. REGISTRATION FEE :</h1>
              <p>₹399 per team.</p>
            </div>
          </div>
        </div>
      </section>

      <section>
        <div class="card">
          <h1 class="title">RULES</h1>
          <div class="rules">
            <ol>
              <li>
                The games should have a playtime of at least 20 minutes. Any
                never-ending games must have at least three different unique
                obstacle levels.
              </li>
              <li>
                The use of AI tools like ChatGPT and royalty-free art is
                allowed.
              </li>
              <li>
                The use of commercial content or copying someone else’s work
                with or without permission is strictly prohibited. The source
                code will be checked through a plagiarism check.
              </li>
              <li>
                The decision of the judges and the event heads will be final.
              </li>
              <li>Replacement of any participant is not allowed.</li>
              <li>
                Competitors must bring their own devices and software necessary
                for the game development; they will be provided with only access
                to the internet and a power outlet to charge their devices.
              </li>
              <li>
                It is compulsory for the competitors to keep updating the
                version control system repository every three hours of the
                competition; failure to do so will result in disqualification.
              </li>
            </ol>
            <p class="section-text" style="text-align: left">
              All details and explanations are included in the accompanying
              event handbook.
            </p>
          </div>
        </div>
      </section>
    <!-- </div> -->

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const preloader = document.getElementById("preloader");
        const preloaderText = document.getElementById("preloader-text");
        const bgCreate = document.getElementById("bg-create");
        const bgCode = document.getElementById("bg-code");
        const bgConquer = document.getElementById("bg-conquer");
        const content = document.getElementById("content");
        // content.style.display = "none"; // Hide main content initially
        const words = ["CREATE", "CODE", "CONQUER"];
        const bgImages = [bgCreate, bgCode, bgConquer];
        let currentWordIndex = 0;
        let currentLetterIndex = 0;

        function typeWord() {
          if (currentWordIndex < words.length) {
            if (currentLetterIndex === 0) {
              showBackgroundImage(currentWordIndex); // Show background image before typing starts
            }

            if (currentLetterIndex < words[currentWordIndex].length) {
              preloaderText.textContent +=
                words[currentWordIndex][currentLetterIndex];
              currentLetterIndex++;
              setTimeout(typeWord, 100); // Adjust typing speed here
            } else {
              currentLetterIndex = 0;
              currentWordIndex++;
              setTimeout(() => {
                preloaderText.textContent = "";
                typeWord();
              }, 1000); // Pause between words
            }
          } else {
            showMainContent();
          }
        }

        function showBackgroundImage(index) {
          bgImages.forEach((img, i) => {
            img.classList.toggle("active", i === index);
          });
        }

        function preloadImages() {
          bgImages.forEach((img) => {
            const image = new Image();
            image.src = img.src;
          });
        }

        function showMainContent() {
          preloader.style.transform = "translateY(-100%)";
          setTimeout(() => {
            preloader.style.display = "none";
            // content.style.display = "block";
            document.body.style.overflow = "auto"; // Re-enable scrolling after preloader
          }, 500);
          content.style.display = "block";
          document.body.style.overflow = "auto"; // Re-enable scrolling after preloader
        }

        preloadImages();

        window.addEventListener("load", () => {
          setTimeout(() => {
            typeWord();
          }, 500);
        });
      });
    </script>

    <script type="importmap">
      {
        "imports": {
          "three": "https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.module.js",
          "three/examples/jsm/loaders/GLTFLoader": "https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/examples/jsm/loaders/GLTFLoader.js"
        }
      }
    </script>

    <script>
      document.body.style.backgroundImage = "url('./assets/images/bg.jpg')";
      document.body.style.backgroundColor = "rgba(0, 0, 0, 0.8)";
      window.addEventListener("scroll", () => {
        const scrollPosition = window.scrollY;
        const windowHeight = window.innerHeight;

        // Calculate how far down the page the user has scrolled (0 to 1 range)
        const scrollFraction =
          scrollPosition / (document.body.scrollHeight - windowHeight);

        if (scrollFraction > 0.15) {
          document.body.style.backgroundImage =
            "url('./assets/images/bg-maIN.jpg')";
          document.body.style.backgroundColor = "rgba(0, 0, 0, 0.8)";
        } else {
          document.body.style.backgroundImage = "url('./assets/images/bg.jpg')";
          document.body.style.backgroundColor = "rgba(0, 0, 0, 0.7)";
        }
      });
    </script>
    <script src="script.js"></script>
    <script type="module" src="cyburpunk_robo.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.module.js"></script>
  </body>
</html>
